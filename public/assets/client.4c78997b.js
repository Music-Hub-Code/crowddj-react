webpackJsonp([0],{116:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(19),s=a(i),u=n(20),l=a(u),d=n(21),c=a(d),f=n(23),p=a(f),h=n(22),v=a(h),m=n(1),g=a(m),y=n(35),x=a(y),_=n(631),b=a(_),k=n(83),w=a(k),C=n(327),S=a(C),N=(0,o.default)("h3",{},void 0,"Requested Songs"),M=(0,o.default)("hr",{}),j=function(t){function e(t){(0,l.default)(this,e);var n=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return n.state={queue:[]},n}return(0,v.default)(e,t),(0,c.default)(e,[{key:"componentWillMount",value:function(){console.log("roomid"+this.props.roomId),this.ref=w.default.syncState("rooms/"+this.props.roomId+"/queue",{context:this,state:"queue",asArray:!0})}},{key:"componentWillUnmount",value:function(){w.default.removeBinding(this.ref)}},{key:"render",value:function(){var t=this;return(0,o.default)("div",{className:"list-container"},void 0,N,M,(0,o.default)("div",{className:"container"},void 0,(0,o.default)("table",{},void 0,(0,o.default)("tbody",{},void 0,this.state.queue.sort(function(t,e){return e.voteCount-t.voteCount}).map(function(e){return(0,o.default)(S.default,{song:e,roomId:t.props.roomId,isDj:t.props.isDj},e.key)})))))}}]),e}(g.default.Component);e.default=(0,x.default)(b.default)(j)},214:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(618),o=a(r);e.default=(0,o.default)()},215:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return 0===t.button}function o(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(146),s=a(i),u=n(349),l=a(u),d=n(19),c=a(d),f=n(20),p=a(f),h=n(21),v=a(h),m=n(23),g=a(m),y=n(22),x=a(y),_=n(1),b=a(_),k=n(214),w=a(k),C=function(t){function e(){var t,n,a,i;(0,p.default)(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=a=(0,g.default)(this,(t=e.__proto__||(0,c.default)(e)).call.apply(t,[this].concat(u))),a.handleClick=function(t){a.props.onClick&&a.props.onClick(t),!o(t)&&r(t)&&t.defaultPrevented!==!0&&(t.preventDefault(),w.default.push(a.props.to))},i=n,(0,g.default)(a,i)}return(0,x.default)(e,t),(0,v.default)(e,[{key:"render",value:function(){var t=this.props,e=t.to,n=t.children,a=(0,l.default)(t,["to","children"]);return b.default.createElement("a",(0,s.default)({href:e},a,{onClick:this.handleClick}),n)}}]),e}(b.default.Component);e.default=C},313:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=a(r),i=n(20),s=a(i),u=n(21),l=a(u),d=n(23),c=a(d),f=n(22),p=a(f),h=n(1),v=a(h),m={insertCss:h.PropTypes.func.isRequired},g=function(t){function e(){return(0,s.default)(this,e),(0,c.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,l.default)(e,[{key:"getChildContext",value:function(){return this.props.context}},{key:"render",value:function(){return v.default.Children.only(this.props.children)}}]),e}(v.default.PureComponent);g.childContextTypes=m,e.default=g},314:function(t,e,n){"use strict"},315:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),o=a(r),i=n(52),s=a(i);e.default={path:"/",children:[n(333).default,n(337).default,n(331).default,n(339).default,n(335).default],action:function(t){var e=this,n=t.next;return(0,s.default)(o.default.mark(function t(){var a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:return a=t.sent,a.title=(a.title||"Untitled Page")+" - www.reactstarterkit.com",a.description=a.description||"",t.abrupt("return",a);case 6:case"end":return t.stop()}},t,e)}))()}}},316:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(213),o=n(796),i=a(o),s=n(329),u=a(s);e.default=function(t){return(0,r.createStore)(u.default,t,(0,r.applyMiddleware)(i.default))}},322:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(19),s=a(i),u=n(20),l=a(u),d=n(21),c=a(d),f=n(23),p=a(f),h=n(22),v=a(h),m=n(1),g=a(m),y=n(35),x=a(y),_=n(622),b=a(_),k=(0,o.default)("div",{className:"header"},void 0,(0,o.default)("a",{className:"title",href:"/"},void 0,"CrowdDJ")),w=function(t){function e(t){(0,l.default)(this,e);var n=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return n.toggle=n.toggle.bind(n),n.state={isOpen:!1},n}return(0,v.default)(e,t),(0,c.default)(e,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return k}}]),e}(g.default.Component);e.default=(0,x.default)(b.default)(w)},323:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(19),s=a(i),u=n(20),l=a(u),d=n(21),c=a(d),f=n(23),p=a(f),h=n(22),v=a(h),m=n(1),g=a(m),y=n(35),x=a(y),_=n(625),b=a(_),k=function(t){function e(t){(0,l.default)(this,e);var n=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return n.state={rating:0,confirmed:!1,confirmedRating:null,currentTrack:t.track},n.renderHeart=n.renderHeart.bind(n),n.resetRating=n.resetRating.bind(n),n}return(0,v.default)(e,t),(0,c.default)(e,[{key:"componentWillReceiveProps",value:function(t){t.track!=this.state.currentTrack&&this.setState({rating:0,confirmed:!1,confirmRating:null,currentTrack:t.track})}},{key:"setRating",value:function(t){this.setState({rating:t})}},{key:"resetRating",value:function(){this.setState({rating:0})}},{key:"confirmRating",value:function(t){var e=this;this.state.confirmed||this.setState({confirmed:!0,confirmRating:t},function(){e.props.sendRating(e.state.confirmRating)})}},{key:"renderHeart",value:function(t){var e=this,n=this.state.confirmed?this.state.confirmRating:this.state.rating;return t<n?(0,o.default)("i",{className:"material-icons heart",onMouseOver:function(){return e.setRating(t+1)},onClick:function(){return e.confirmRating(t+1)}},t,"favorite_solid"):(0,o.default)("i",{className:"material-icons heart",onMouseOver:function(){return e.setRating(t+1)}},t,"favorite_border")}},{key:"render",value:function(){var t=this;return(0,o.default)("span",{className:"rating",onMouseLeave:this.resetRating},void 0,[0,1,2,3,4].map(function(e){return t.renderHeart(e)}))}}]),e}(g.default.Component);e.default=(0,x.default)(b.default)(k)},324:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(19),s=a(i),u=n(20),l=a(u),d=n(21),c=a(d),f=n(23),p=a(f),h=n(22),v=a(h),m=n(1),g=a(m),y=n(35),x=a(y),_=n(626),b=a(_),k=n(83),w=a(k),C=(n(84),(0,o.default)("td",{className:"ranking"})),S=(0,o.default)("i",{className:"material-icons"},void 0,"favorite_solid"),N=function(t){function e(t){(0,l.default)(this,e);var n=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return n.props.song.rating||(n.props.song.rating=0),n}return(0,v.default)(e,t),(0,c.default)(e,[{key:"componentWillMount",value:function(){this.ref=w.default.syncState("rooms/"+this.props.roomId+"/queue/"+this.props.song.key+"/voteCount",{context:this,state:"voteCount"}),this.fullRef=w.default.syncState("rooms/"+this.props.roomId+"/queue/"+this.props.song.key,{context:this,state:"song"})}},{key:"componentWillUnmount",value:function(){w.default.removeBinding(this.ref),w.default.removeBinding(this.fullRef)}},{key:"render",value:function(){var t=this.props,e=t.song;t.roomId,t.isDj;return(0,o.default)("tr",{},void 0,C,(0,o.default)("td",{className:"name-artist"},void 0,(0,o.default)("span",{className:"name"},void 0,e.name),(0,o.default)("span",{className:"artist"},void 0,e.artist)),(0,o.default)("td",{className:"vote"},void 0,S,(0,o.default)("span",{className:"upvotes"},void 0,e.rating.toString().substring(0,3))))}}]),e}(g.default.Component);e.default=(0,x.default)(b.default)(N)},325:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(19),s=a(i),u=n(20),l=a(u),d=n(21),c=a(d),f=n(23),p=a(f),h=n(22),v=a(h),m=n(1),g=a(m),y=n(35),x=a(y),_=n(627),b=a(_),k=n(83),w=a(k),C=n(324),S=a(C),N=(0,o.default)("h3",{},void 0,"Party Playlist"),M=(0,o.default)("hr",{}),j=function(t){function e(t){(0,l.default)(this,e);var n=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return n.state={played:[]},n}return(0,v.default)(e,t),(0,c.default)(e,[{key:"componentWillMount",value:function(){console.log("roomid"+this.props.roomId),this.ref=w.default.syncState("rooms/"+this.props.roomId+"/played",{context:this,state:"played",asArray:!0})}},{key:"componentWillUnmount",value:function(){w.default.removeBinding(this.ref)}},{key:"render",value:function(){var t=this;return(0,o.default)("div",{className:"list-container"},void 0,N,M,(0,o.default)("div",{className:"container"},void 0,(0,o.default)("table",{},void 0,(0,o.default)("tbody",{},void 0,this.state.played.sort(function(t,e){return e.voteCount-t.voteCount}).map(function(e){return(0,o.default)(S.default,{song:e,roomId:t.props.roomId,isDj:t.props.isDj},e.key)})))))}}]),e}(g.default.Component);e.default=(0,x.default)(b.default)(j)},326:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(117),o=a(r),i=n(13),s=a(i),u=n(19),l=a(u),d=n(20),c=a(d),f=n(21),p=a(f),h=n(23),v=a(h),m=n(22),g=a(m),y=n(1),x=a(y),_=n(35),b=a(_),k=n(629),w=a(k),C=n(83),S=a(C),N=n(84),M=function(t){function e(t){(0,c.default)(this,e);var n=(0,v.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t));return n.state={queue:[]},n}return(0,g.default)(e,t),(0,p.default)(e,[{key:"componentWillMount",value:function(){console.log("in search results: "+this.props.roomId),this.ref=S.default.syncState("rooms/"+this.props.roomId+"/queue",{context:this,state:"queue",asArray:!0})}},{key:"componentWillUnmount",value:function(){S.default.removeBinding(this.ref)}},{key:"renderTracks",value:function(){var t=this;return this.props.tracks.length>0?(0,s.default)("div",{className:"search-results-tracks"},void 0,(0,s.default)("ul",{},void 0,this.props.tracks.map(function(e){return(0,s.default)("li",{onClick:function(){t.addTrackToQueue(e),t.props.onSelectSong()}},e.id,(0,s.default)("span",{className:"track-name"},void 0,e.name),(0,s.default)("span",{className:"track-artist-name"},void 0,e.artists[0].name))}))):null}},{key:"addTrackToQueue",value:function(t){var e=this.state.queue,n=!0,a=!0,r=!1,i=void 0;try{for(var s,u=(0,o.default)(e);!(a=(s=u.next()).done);a=!0){var l=s.value;if(t.name==l.name&&t.artists[0].name==l.artist){(0,N.voteSong)(l)&&l.voteCount++,n=!1;break}}}catch(t){r=!0,i=t}finally{try{!a&&u.return&&u.return()}finally{if(r)throw i}}if(n){var d={name:t.name,artist:t.artists[0].name,voteCount:1,trackId:t.id};e.push(d),(0,N.voteSong)(d)}this.setState({queue:e})}},{key:"render",value:function(){return(0,s.default)("div",{className:"search-results"},void 0,this.renderTracks())}}]),e}(x.default.Component);e.default=(0,b.default)(w.default)(M)},327:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(146),o=a(r),i=n(13),s=a(i),u=n(19),l=a(u),d=n(20),c=a(d),f=n(21),p=a(f),h=n(23),v=a(h),m=n(22),g=a(m),y=n(1),x=a(y),_=n(35),b=a(_),k=n(630),w=a(k),C=n(83),S=a(C),N=n(84),M=(0,s.default)("td",{className:"ranking"}),j=(0,s.default)("i",{className:"material-icons"},void 0,"cancel"),A=(0,s.default)("i",{className:"material-icons"},void 0,"thumb_up"),I=function(t){function e(t){(0,c.default)(this,e);var n=(0,v.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t));return n.state={song:{}},n.upvote=n.upvote.bind(n),n.remove=n.remove.bind(n),n}return(0,g.default)(e,t),(0,p.default)(e,[{key:"componentWillMount",value:function(){this.ref=S.default.syncState("rooms/"+this.props.roomId+"/queue/"+this.props.song.key,{context:this,state:"song"})}},{key:"componentWillUnmount",value:function(){S.default.removeBinding(this.ref)}},{key:"render",value:function(){var t=this.props,e=t.song,n=(t.roomId,t.isDj);return(0,s.default)("tr",{},void 0,M,(0,s.default)("td",{className:"name-artist"},void 0,(0,s.default)("span",{className:"name"},void 0,e.name),(0,s.default)("span",{className:"artist"},void 0,e.artist)),n&&(0,s.default)("td",{className:"vote",onClick:this.remove},void 0,(0,s.default)("span",{className:"upvotes"},void 0,this.state.song.voteCount),j),!n&&(0,s.default)("td",{className:"vote",onClick:this.upvote},void 0,A,(0,s.default)("span",{className:"upvotes"},void 0,this.state.song.voteCount)))}},{key:"upvote",value:function(){if((0,N.voteSong)(this.props.song)){var t=(0,o.default)({},this.state);t.song.voteCount+=1,this.setState(t)}}},{key:"remove",value:function(){var t=(0,o.default)({},this.state);t.song=null,this.setState(t)}}]),e}(x.default.Component);e.default=(0,b.default)(w.default)(I)},328:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={AddedSongs:"added_songs"};e.default=a},329:function(t,e,n){"use strict";function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;n(213)},330:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(19),s=a(i),u=n(20),l=a(u),d=n(21),c=a(d),f=n(23),p=a(f),h=n(22),v=a(h),m=n(1),g=a(m),y=n(99),x=(a(y),n(116)),_=a(x),b=n(98),k=a(b),w=n(97),C=a(w),S=(0,o.default)(C.default,{}),N=(0,o.default)("br",{}),M=function(t){function e(t){(0,l.default)(this,e);var n=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return console.log(t.name),n}return(0,v.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){return(0,o.default)("div",{className:"container"},void 0,S,N,(0,o.default)(_.default,{isDj:!0,roomId:this.props.name}),(0,o.default)(k.default,{roomId:this.props.name,isDj:!0}))}}]),e}(g.default.Component);e.default=M},331:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),o=a(r),i=n(13),s=a(i),u=n(52),l=a(u),d=n(1),c=(a(d),n(330)),f=a(c);e.default={path:"/dj/:room",action:function(t){var e=this;return(0,l.default)(o.default.mark(function n(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{title:t.params.room,component:(0,s.default)(f.default,{name:t.params.room})});case 1:case"end":return e.stop()}},n,e)}))()}}},332:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(19),s=a(i),u=n(20),l=a(u),d=n(21),c=a(d),f=n(23),p=a(f),h=n(22),v=a(h),m=n(1),g=a(m),y=n(634),x=a(y),_=n(35),b=a(_),k=(n(308),n(215)),w=(a(k),n(98)),C=(a(w),n(99)),S=(a(C),n(116)),N=(a(S),n(84)),M=n(97),j=a(M),A=n(632),I=a(A),P=(0,o.default)(j.default,{}),R=(0,o.default)("div",{className:"copy"},void 0,(0,o.default)("div",{className:"title"},void 0,"Want to stay in the spotify queue tonight?"),(0,o.default)("p",{className:"desc"},void 0,"This app let’s you recommend songs for your DJ\u2028 friend to play throughout the night, updating in\u2028 real time, so they can finally take your suggestions seriously!"),(0,o.default)("p",{className:"desc"},void 0,"Or they’ll keep ignoring you as usual.")),O=(0,o.default)("span",{className:"caption"},void 0,(0,o.default)("span",{className:"cap1"},void 0,"Join your DJ's party now!"),(0,o.default)("span",{className:"cap2"},void 0,"Enter your party's key!")),q=(0,o.default)("span",{className:"extra"},void 0,"A Party"),T=(0,o.default)("span",{className:"caption"},void 0,(0,o.default)("span",{className:"cap1"},void 0,"Be the DJ friend!"),(0,o.default)("span",{className:"cap2"},void 0,"Create your party's key!")),B=(0,o.default)("div",{className:"input-container"},void 0,(0,o.default)("input",{id:"create-room-name",type:"text"})),z=(0,o.default)("span",{className:"extra"},void 0,"A Party"),D=function(t){function e(t){return(0,l.default)(this,e),(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t))}return(0,v.default)(e,t),(0,c.default)(e,[{key:"checkEnter",value:function(t){console.log(t),13===t.keyCode&&(console.log("enter"),parseJoinInput(t))}},{key:"join",value:function(){(0,x.default)(".copy .desc, .caption .cap1, .create-button, .overlay-join").fadeOut(),(0,x.default)(".join-button .input-container, .caption .cap2").fadeIn()}},{key:"create",value:function(){(0,x.default)(".copy .desc, .caption .cap1, .join-button, .overlay-create").fadeOut(),(0,x.default)(".create-button .input-container, .caption .cap2").fadeIn()}},{key:"parseJoinInput",value:function(){var t=(0,x.default)("#join-room-name").val(),e="/r/"+t;(0,x.default)(".join").attr("href",e),(0,x.default)(".join").click()}},{key:"parseCreateInput",value:function(){var t=(0,x.default)("#create-room-name").val(),e="/dj/"+t;(0,x.default)(".create").attr("href",e),(0,x.default)(".create").click()}},{key:"render",value:function(){return console.log("Current songs: "+(0,N.getAddedSongs)()),console.log("Adding song"),(0,N.addSong)({name:"test"}),console.log("Current songs: "+(0,N.getAddedSongs)()),console.log("Has song named test: "+(0,N.hasAddedSong)({name:"test"})),console.log("Has song named nottest: "+(0,N.hasAddedSong)({name:"nottest"})),(0,o.default)("div",{className:"container"},void 0,P,R,(0,o.default)("div",{className:"button-container join-button"},void 0,O,(0,o.default)("div",{className:"input-container"},void 0,(0,o.default)("input",{id:"join-room-name",type:"text",onkeydown:this.checkEnter.bind(this)})),(0,o.default)("div",{className:"overlay-join",onClick:this.join.bind(this)}),(0,o.default)("a",{className:"join",href:"#",onClick:this.parseJoinInput.bind(this)},void 0,"Join ",q)),(0,o.default)("div",{className:"button-container create-button"},void 0,T,B,(0,o.default)("div",{className:"overlay-create",onClick:this.create.bind(this)}),(0,o.default)("a",{className:"create",href:"#",onClick:this.parseCreateInput.bind(this)},void 0,"Create ",z)))}}]),e}(g.default.Component);e.default=(0,b.default)(I.default)(D)},333:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),o=a(r),i=n(13),s=a(i),u=n(52),l=a(u),d=n(1),c=(a(d),n(332)),f=a(c);e.default={path:"/",action:function(){var t=this;return(0,l.default)(o.default.mark(function e(){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={news:[]},t.abrupt("return",{title:"React Starter Kit",component:(0,s.default)(f.default,{news:n.news})});case 2:case"end":return t.stop()}},e,t)}))()}}},334:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return(0,i.default)("div",{className:c.default.root},void 0,(0,i.default)("div",{className:c.default.container},void 0,(0,i.default)("h1",{},void 0,t.title),f))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),i=a(o),s=n(1),u=(a(s),n(35)),l=a(u),d=n(633),c=a(d),f=(0,i.default)("p",{},void 0,"Sorry, the page you were trying to view does not exist.");e.default=(0,l.default)(c.default)(r)},335:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(1),s=(a(i),n(97)),u=a(s),l=n(334),d=a(l),c="Page Not Found",f=(0,o.default)(u.default,{},void 0,(0,o.default)(d.default,{title:c}));e.default={path:"*",action:function(){return{title:c,component:f,status:404}}}},336:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(19),s=a(i),u=n(20),l=a(u),d=n(21),c=a(d),f=n(23),p=a(f),h=n(22),v=a(h),m=n(1),g=a(m),y=n(35),x=(a(y),n(308),n(215)),_=(a(x),n(98)),b=a(_),k=n(99),w=a(k),C=n(116),S=a(C),N=n(84),M=n(97),j=a(M),A=(0,o.default)(j.default,{}),I=function(t){function e(t){(0,l.default)(this,e);var n=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return console.log(t.name),n}return(0,v.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){return console.log("Current songs: "+(0,N.getAddedSongs)()),console.log("Adding song"),(0,N.addSong)({name:"test"}),console.log("Current songs: "+(0,N.getAddedSongs)()),console.log("Has song named test: "+(0,N.hasAddedSong)({name:"test"})),console.log("Has song named nottest: "+(0,N.hasAddedSong)({name:"nottest"})),(0,o.default)("div",{className:"container"},void 0,A,(0,o.default)(w.default,{roomId:this.props.name}),(0,o.default)(S.default,{roomId:this.props.name}),(0,o.default)(b.default,{roomId:this.props.name}))}}]),e}(g.default.Component);e.default=I},337:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),o=a(r),i=n(13),s=a(i),u=n(52),l=a(u),d=n(1),c=(a(d),n(336)),f=a(c);e.default={path:"/r/:room",action:function(t){var e=this;return(0,l.default)(o.default.mark(function n(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{title:"Music Room",component:(0,s.default)(f.default,{name:t.params.room})});case 1:case"end":return e.stop()}},n,e)}))()}}},338:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(19),s=a(i),u=n(20),l=a(u),d=n(21),c=a(d),f=n(23),p=a(f),h=n(22),v=a(h),m=n(1),g=a(m),y=n(99),x=(a(y),n(325)),_=a(x),b=n(98),k=(a(b),n(97)),w=a(k),C=(0,o.default)(w.default,{}),S=(0,o.default)("br",{}),N=function(t){function e(t){(0,l.default)(this,e);var n=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return console.log(t.name),n}return(0,v.default)(e,t),(0,c.default)(e,[{key:"render",value:function(){return(0,o.default)("div",{className:"container"},void 0,C,S,(0,o.default)(_.default,{isDj:!0,roomId:this.props.name}))}}]),e}(g.default.Component);e.default=N},339:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(53),o=a(r),i=n(13),s=a(i),u=n(52),l=a(u),d=n(1),c=(a(d),n(338)),f=a(c);e.default={path:"/list/:room",action:function(t){var e=this;return(0,l.default)(o.default.mark(function n(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{title:t.params.room,component:(0,s.default)(f.default,{name:t.params.room})});case 1:case"end":return e.stop()}},n,e)}))()}}},585:function(t,e,n){e=t.exports=n(34)(),e.push([t.i,"/* @import '~bootstrap/scss/bootstrap.scss'; */\nbody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  font-family: 'Rubik', sans-serif;\n  font-weight: 400;\n  background: #27232F;\n  color: #fff; }\n\n.header {\n  font-family: 'Asap', sans-serif;\n  background: #15131A;\n  padding: 20px 0 40px; }\n  .header .title {\n    display: block;\n    text-align: center;\n    color: #fff;\n    font-size: 20px;\n    font-weight: 700;\n    margin: 0 auto;\n    text-transform: uppercase; }\n    @media screen and (min-width: 768px) {\n      .header .title {\n        text-align: left;\n        font-size: 36px;\n        margin-top: 20px;\n        margin-left: 50px; } }\n",""])},586:function(t,e,n){e=t.exports=n(34)(),e.push([t.i,"*,\n*::after,\n*::before {\n  box-sizing: border-box;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale; }\n\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  font-family: 'Rubik', sans-serif;\n  font-weight: 400;\n  background: #1e1e2f;\n  color: #fff; }\n\na {\n  text-decoration: none;\n  color: #fff; }\n\n.site {\n  margin: 0; }\n  .site ul {\n    list-style: none;\n    padding: 0; }\n",""])},587:function(t,e,n){e=t.exports=n(34)(),e.i(n(80),""),e.push([t.i,".now-playing {\n  border-radius: 3px;\n  padding: 15px 15px;\n  width: 90%;\n  margin: 20px auto;\n  background: #3B3546;\n  white-space: nowrap;\n  position: fixed;\n  bottom: -5px;\n  left: 0;\n  right: 0;\n  height: 70px; }\n  @media screen and (min-width: 768px) {\n    .now-playing {\n      position: absolute;\n      top: 120px;\n      right: 0;\n      left: auto;\n      bottom: auto;\n      margin: 20px 50px;\n      width: 22%;\n      height: 350px; } }\n  .now-playing h3 {\n    margin: 5px 0 20px; }\n  .now-playing .artwork {\n    width: 44px;\n    margin: 0px 10px 10px 0;\n    display: inline-block;\n    vertical-align: top; }\n    @media screen and (min-width: 768px) {\n      .now-playing .artwork {\n        width: 200px;\n        display: block;\n        margin: 35px auto 0; } }\n  .now-playing .info {\n    display: inline-block;\n    vertical-align: top;\n    font-size: 14px;\n    position: relative;\n    width: 90%; }\n    @media screen and (min-width: 768px) {\n      .now-playing .info {\n        display: block;\n        margin: 10px 25px;\n        position: static; } }\n    .now-playing .info .currently {\n      text-transform: uppercase;\n      font-size: 12px;\n      margin: 5px 0; }\n      @media screen and (min-width: 768px) {\n        .now-playing .info .currently {\n          position: absolute;\n          top: 20px;\n          left: 20px;\n          font-size: 14px; } }\n    .now-playing .info .name {\n      font-weight: 700;\n      margin-right: 7px; }\n    @media screen and (min-width: 768px) {\n      .now-playing .info .artist {\n        display: block; } }\n  .now-playing .song {\n    width: 80%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .now-playing .rating {\n    position: absolute;\n    float: right;\n    top: 14px;\n    right: 14px;\n    z-index: 99999999; }\n    @media screen and (min-width: 768px) {\n      .now-playing .rating {\n        float: left;\n        top: auto;\n        right: auto;\n        bottom: 12px;\n        left: 40px; } }\n    .now-playing .rating .material-icons {\n      font-size: 18px;\n      margin: 0 1px; }\n  .now-playing .vote {\n    width: 60px;\n    padding-left: 10px;\n    cursor: pointer;\n    margin-left: 180px; }\n    .now-playing .vote i {\n      width: 30px; }\n    .now-playing .vote .upvotes {\n      vertical-align: top;\n      margin-top: 3px;\n      margin-left: 5px;\n      position: relative;\n      top: 3px;\n      bottom: 24px; }\n",""])},588:function(t,e,n){e=t.exports=n(34)(),e.push([t.i,".rating {\n  position: absolute;\n  float: right;\n  top: 14px;\n  right: 14px; }\n  .rating .material-icons.heart {\n    font-size: 18px;\n    width: 18px;\n    margin: 0 1px; }\n",""])},589:function(t,e,n){e=t.exports=n(34)(),e.i(n(80),""),e.push([t.i,".list-container {\n  /* width: 100%; */ }\n  @media screen and (min-width: 768px) {\n    .list-container {\n      width: 60%;\n      margin: 0 auto; } }\n\ntr {\n  height: 70px;\n  counter-increment: my_counter; }\n  tr .ranking {\n    width: 30px;\n    position: relative;\n    top: -12px;\n    color: #a8a2b2; }\n  tr .name-artist span {\n    display: block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  tr .name-artist .name {\n    font-weight: 700; }\n  tr .vote {\n    width: 60px;\n    padding-left: 10px;\n    cursor: pointer; }\n    tr .vote .material-icons {\n      display: inline-block;\n      width: 30px; }\n    tr .vote .upvotes {\n      vertical-align: top;\n      margin-top: 3px;\n      margin-left: 5px; }\n",""])},590:function(t,e,n){e=t.exports=n(34)(),e.i(n(80),""),e.push([t.i,".list-container {\n  width: 90%;\n  margin: 0 auto;\n  overflow: hidden;\n  position: relative;\n  top: 0; }\n  @media screen and (min-width: 768px) {\n    .list-container {\n      width: 60%;\n      margin: 20px 50px; } }\n  .list-container h3 {\n    text-transform: uppercase;\n    font-size: 16px; }\n  .list-container hr {\n    border-color: #3B3546; }\n  .list-container .container {\n    overflow-y: scroll;\n    height: 380px;\n    padding: 0;\n    overflow-x: hidden; }\n    @media screen and (min-width: 768px) {\n      .list-container .container {\n        height: 450px; } }\n    .list-container .container table {\n      border-collapse: collapse;\n      width: 100%;\n      table-layout: fixed; }\n      .list-container .container table tbody {\n        overflow: auto;\n        counter-reset: my_counter; }\n",""])},591:function(t,e,n){e=t.exports=n(34)(),e.i(n(80),""),e.push([t.i,".search-box {\n  position: relative;\n  top: -30px; }\n  @media screen and (min-width: 768px) {\n    .search-box {\n      display: none; } }\n  .search-box .search-bar {\n    width: 90%;\n    margin: 10px auto 0; }\n    .search-box .search-bar .placeholder {\n      position: relative; }\n    .search-box .search-bar .search, .search-box .search-bar .cancel {\n      position: absolute;\n      top: 7px;\n      left: 7px;\n      color: #bbb; }\n    .search-box .search-bar .cancel {\n      left: auto;\n      right: 7px;\n      display: none; }\n    .search-box .search-bar input:focus + .cancel {\n      display: block; }\n    .search-box .search-bar input {\n      border: none;\n      margin: 0 auto;\n      width: 100%;\n      height: 40px;\n      border-radius: 10px;\n      font-size: 16px;\n      padding: 10px;\n      padding-left: 40px;\n      background: #E8E4EF; }\n",""])},592:function(t,e,n){e=t.exports=n(34)(),e.push([t.i,".search-results {\n  width: 90%;\n  margin: 0 auto;\n  background: #E8E4EF;\n  color: #A8A2B2;\n  z-index: 5;\n  position: absolute;\n  left: 0;\n  right: 0;\n  border-radius: 10px; }\n  .search-results .search-results-tracks {\n    padding: 0; }\n    .search-results .search-results-tracks ul {\n      list-style: none;\n      padding: 0; }\n    .search-results .search-results-tracks li {\n      cursor: pointer;\n      padding: 10px 40px;\n      border-bottom: 1px solid #B8ACCB; }\n      .search-results .search-results-tracks li:last-of-type {\n        border: none; }\n      .search-results .search-results-tracks li .track-name {\n        display: block;\n        font-weight: 500;\n        color: #3B3546;\n        line-height: 18px; }\n      .search-results .search-results-tracks li .track-artist-name {\n        display: block;\n        font-size: 14px; }\n",""])},593:function(t,e,n){e=t.exports=n(34)(),e.i(n(80),""),e.push([t.i,"tr {\n  height: 70px;\n  counter-increment: my_counter; }\n  tr .ranking {\n    width: 30px;\n    position: relative;\n    top: -12px;\n    color: #a8a2b2; }\n  tr .name-artist span {\n    display: block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  tr .name-artist .name {\n    font-weight: 700; }\n  tr .vote {\n    width: 60px;\n    padding-left: 10px;\n    cursor: pointer; }\n    @media screen and (min-width: 768px) {\n      tr .vote {\n        width: 100px; } }\n    tr .vote .upvotes {\n      vertical-align: top;\n      margin-top: 3px;\n      margin-left: 5px;\n      display: inline-block;\n      width: 20px; }\n      @media screen and (min-width: 768px) {\n        tr .vote .upvotes {\n          margin-right: 20px; } }\n",""])},594:function(t,e,n){e=t.exports=n(34)(),e.i(n(80),""),e.push([t.i,".list-container {\n  width: 90%;\n  margin: 0 auto;\n  overflow: hidden;\n  position: relative;\n  top: -15px; }\n  @media screen and (min-width: 768px) {\n    .list-container {\n      width: 60%;\n      margin: 20px 50px; } }\n  .list-container h3 {\n    text-transform: uppercase;\n    font-size: 16px; }\n  .list-container hr {\n    border: 1px solid #3B3546; }\n  .list-container .container {\n    overflow-y: scroll;\n    height: 380px;\n    padding: 0; }\n    @media screen and (min-width: 768px) {\n      .list-container .container {\n        height: 450px; } }\n    .list-container .container table {\n      border-collapse: collapse;\n      width: 100%;\n      table-layout: fixed; }\n      .list-container .container table tbody {\n        overflow: auto;\n        counter-reset: my_counter; }\n",""]);
},595:function(t,e,n){e=t.exports=n(34)(),e.push([t.i,".copy {\n  margin: 30px 30px 50px;\n  font-family: 'Asap', sans-serif; }\n  .copy .title {\n    text-transform: uppercase;\n    font-weight: 500;\n    font-size: 24px; }\n  .copy .desc {\n    line-height: 24px;\n    color: #A8A2B2; }\n\n.button-container {\n  margin: 30px;\n  font-family: 'Asap', sans-serif; }\n  .button-container .input-container {\n    margin-bottom: 20px;\n    display: none; }\n    .button-container .input-container input {\n      color: #fff;\n      background: transparent;\n      border: none;\n      border-bottom: 2px solid #A8A2B2;\n      height: 40px;\n      width: 250px;\n      font-size: 20px; }\n  .button-container .caption {\n    display: block;\n    margin-bottom: 15px;\n    color: #A8A2B2; }\n    .button-container .caption .cap2 {\n      display: none; }\n  .button-container .join, .button-container .create {\n    display: block;\n    width: 250px;\n    height: 57px;\n    border: 2px solid #fff;\n    padding: 15px 20px;\n    text-transform: uppercase;\n    text-align: center;\n    font-size: 20px; }\n  .button-container .overlay-join, .button-container .overlay-create {\n    display: block;\n    width: 250px;\n    height: 57px;\n    position: absolute; }\n",""])},596:function(t,e,n){e=t.exports=n(34)(),e.i(n(80),""),e.push([t.i,'@charset "UTF-8";\n/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-2016 Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n.root {\n  padding-left: 20px;\n  padding-right: 20px; }\n\n.container {\n  margin: 0 auto;\n  padding: 0 0 40px;\n  max-width: var(--max-content-width); }\n',""])},622:function(t,e,n){var a=n(585),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},623:function(t,e,n){var a=n(586),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},624:function(t,e,n){var a=n(587),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},625:function(t,e,n){var a=n(588),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},626:function(t,e,n){var a=n(589),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},627:function(t,e,n){var a=n(590),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},628:function(t,e,n){var a=n(591),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},629:function(t,e,n){var a=n(592),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},630:function(t,e,n){var a=n(593),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},631:function(t,e,n){var a=n(594),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},632:function(t,e,n){var a=n(595),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},633:function(t,e,n){var a=n(596),r=n(39);"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return r(a,t)}},80:function(t,e,n){e=t.exports=n(34)(),e.push([t.i,"@charset \"UTF-8\";\n/**\n * React Starter Kit (https://www.reactstarterkit.com/)\n *\n * Copyright © 2014-2016 Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n:root {\n  /*\n   * Typography\n   * ======================================================================== */\n  /* --font-family-base: 'Segoe UI', 'HelveticaNeue-Light', sans-serif; */\n  /*\n   * Layout\n   * ======================================================================== */\n  --max-content-width: 1000px;\n  /*\n   * Media queries breakpoints\n   * ======================================================================== */\n  --screen-xs-min: 480px;\n  /* Extra small screen / phone */\n  --screen-sm-min: 768px;\n  /* Small screen / tablet */\n  --screen-md-min: 992px;\n  /* Medium screen / desktop */\n  --screen-lg-min: 1200px;\n  /* Large screen / wide desktop */ }\n",""])},810:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,a,r){var o=document.head.querySelector(t+"["+e+'="'+n+'"]');if((!o||o.getAttribute(a)!==r)&&(o&&o.parentNode.removeChild(o),"string"==typeof r)){var i=document.createElement(t);i.setAttribute(e,n),i.setAttribute(a,r),document.head.appendChild(i)}}function o(t,e){r("meta","name",t,"content",e)}var i=n(144),s=a(i),u=n(53),l=a(u),d=n(13),c=a(d),f=n(52),p=a(f),h=function(){var t=(0,p.default)(l.default.mark(function t(e){var n,a=this;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return O[z.key]={scrollX:window.pageXOffset,scrollY:window.pageYOffset},"PUSH"===M.default.action&&delete O[e.key],z=e,t.prev=3,t.delegateYield(l.default.mark(function t(){var n;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.default.resolve(D,{path:e.pathname,query:w.default.parse(e.search)});case 2:if(n=t.sent,z.key===e.key){t.next=5;break}return t.abrupt("return",{v:void 0});case 5:if(!n.redirect){t.next=8;break}return M.default.replace(n.redirect),t.abrupt("return",{v:void 0});case 8:B=g.default.render((0,c.default)(C.Provider,{store:(0,P.default)({})},void 0,(0,c.default)(A.default,{context:R},void 0,n.component)),T,function(){return q(n,e)});case 9:case"end":return t.stop()}},t,a)})(),"t0",5);case 5:if(n=t.t0,"object"!==("undefined"==typeof n?"undefined":(0,s.default)(n))){t.next=8;break}return t.abrupt("return",n.v);case 8:t.next=21;break;case 10:if(t.prev=10,t.t1=t.catch(3),console.error(t.t1),z.key===e.key){t.next=15;break}return t.abrupt("return");case 15:t.next=20;break;case 20:window.location.reload();case 21:case"end":return t.stop()}},t,this,[[3,10]])}));return function(e){return t.apply(this,arguments)}}();n(317);var v=n(1),m=(a(v),n(115)),g=a(m),y=n(318),x=a(y),_=n(321),b=a(_),k=n(319),w=a(k),C=n(320),S=n(145),N=n(214),M=a(N),j=n(313),A=a(j),I=(n(314),n(316)),P=a(I),R={insertCss:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e.map(function(t){return t._insertCss()});return function(){a.forEach(function(t){return t()})}}},O={};window.history&&"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var q=function(){var t=document.getElementById("css");t&&t.parentNode.removeChild(t),q=function(t,e){document.title=t.title,o("description",t.description);var n=0,a=0,r=O[e.key];if(r)n=r.scrollX,a=r.scrollY;else{var i=e.hash.substr(1);if(i){var s=document.getElementById(i);s&&(a=window.pageYOffset+s.getBoundingClientRect().top)}}window.scrollTo(n,a),window.ga&&window.ga("send","pageview",(0,S.createPath)(e))}};x.default.attach(document.body);var T=document.getElementById("app"),B=void 0,z=M.default.location,D=n(315).default;M.default.listen(h),h(z)},83:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(647),o=a(r),i=o.default.createClass({apiKey:"AIzaSyAtnwNgh3qzpYFwurHb0Myg7k8ZLnRyTTA",authDomain:"crowddj-be2bb.firebaseapp.com",databaseURL:"https://crowddj-be2bb.firebaseio.com"},"crowddj-be2bb");e.default=i},84:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(){var t=h.default.load(f.default.AddedSongs);return null!=t&&void 0!=t&&t.constructor===Array||(t=[]),t}function o(t){return r().filter(function(e){return e==t.name}).length>0}function i(t){var e=r();return e.push(t.name),h.default.save(f.default.AddedSongs,e),e}function s(){var t=h.default.load(f.default.VotedSongs);return null!=t&&void 0!=t&&t.constructor===Array||(t=[]),t}function u(t){var e=s();return!e.includes(t.trackId)&&(e.push(t.trackId),h.default.save(f.default.VotedSongs,e),!0)}function l(){var t=h.default.load(f.default.RatedSongs);return null!=t&&void 0!=t&&t.constructor===Array||(t=[]),t}function d(t){var e=l();return!e.includes(t)&&(e.push(t),h.default.save(f.default.RatedSongs,e),!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.getAddedSongs=r,e.hasAddedSong=o,e.addSong=i,e.getVotedSongs=s,e.voteSong=u,e.getRatedSongs=l,e.rateSong=d;var c=n(328),f=a(c),p=n(650),h=a(p)},97:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return g}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),i=a(o),s=n(1),u=(a(s),n(35)),l=a(u),d=n(623),c=a(d),f=n(322),p=a(f),h=n(99),v=(a(h),n(116)),m=(a(v),n(98)),g=(a(m),(0,i.default)("div",{className:"site"},void 0,(0,i.default)(p.default,{})));e.default=(0,l.default)(c.default)(r)},98:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(344),o=a(r),i=n(13),s=a(i),u=n(146),l=a(u),d=n(53),c=a(d),f=n(52),p=a(f),h=n(19),v=a(h),m=n(20),g=a(m),y=n(21),x=a(y),_=n(23),b=a(_),k=n(22),w=a(k),C=n(1),S=a(C),N=n(35),M=a(N),j=n(624),A=a(j),I=n(83),P=a(I),R=n(84),O=n(323),q=a(O),T="https://api.spotify.com/v1/albums/",B=(0,s.default)("div",{className:"currently"},void 0,"Currently Playing"),z=(0,s.default)("i",{className:"material-icons"},void 0,"favorite_solid"),D=function(t){function e(t){(0,g.default)(this,e);var n=(0,b.default)(this,(e.__proto__||(0,v.default)(e)).call(this,t));return n.state={current:{}},n.vote=n.vote.bind(n),n}return(0,w.default)(e,t),(0,x.default)(e,[{key:"componentWillMount",value:function(){console.log("in now playing: "+this.props.roomId),this.ref=P.default.syncState("rooms/"+this.props.roomId+"/current",{context:this,state:"current"})}},{key:"componentWillUnmount",value:function(){P.default.removeBinding(this.ref)}},{key:"componentDidUpdate",value:function(){this.getAlbumArtwork()}},{key:"getAlbumArtwork",value:function(){function t(){return e.apply(this,arguments)}var e=(0,p.default)(c.default.mark(function t(){var e,n,a;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(""+T+this.state.current.albumId);case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,a=n.images[0].url,this.setState({imageURL:a});case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"vote",value:function(t){var e=(0,l.default)({},this.state);if((0,R.rateSong)(this.state.current.trackId)){var n=(0,l.default)({},this.state.current);if(n.rating){console.log(n.rating);var a=n.rating*n.ratingCount;a+=t,n.ratingCount+=1,n.rating=a/n.ratingCount}else n.rating=t,n.ratingCount=1;e.current=n,this.setState(e)}}},{key:"render",value:function(){return(0,s.default)("div",{className:"now-playing"},void 0,(0,s.default)("img",{className:"artwork",src:this.state.imageURL}),!this.props.isDj&&(0,s.default)(q.default,{track:this.state.current.name,sendRating:this.vote.bind(this)}),(0,s.default)("div",{className:"info"},void 0,B,(0,s.default)("div",{className:"song"},void 0,(0,s.default)("span",{className:"name"},void 0,this.state.current.name,","),(0,s.default)("span",{className:"artist"},void 0,this.state.current.artist))),this.props.isDj&&(0,s.default)("div",{className:"vote"},void 0,z,(0,o.default)(this.state.current).length>0&&(0,s.default)("span",{className:"upvotes"},void 0,this.state.current.rating.toString().substring(0,3))))}}]),e}(S.default.Component);e.default=(0,M.default)(A.default)(D)},99:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=a(r),i=n(117),s=a(i),u=n(53),l=a(u),d=n(52),c=a(d),f=n(19),p=a(f),h=n(20),v=a(h),m=n(21),g=a(m),y=n(23),x=a(y),_=n(22),b=a(_),k=n(1),w=a(k),C=n(35),S=a(C),N=n(628),M=a(N),j=n(326),A=a(j),I="https://api.spotify.com/v1/search",P="artist,track",R=(0,o.default)("i",{className:"material-icons search"},void 0,"search"),O=function(t){function e(t){(0,v.default)(this,e);var n=(0,x.default)(this,(e.__proto__||(0,p.default)(e)).call(this,t));return n.state={query:"",tracks:[]},n.onChangeSearch=n.onChangeSearch.bind(n),n.getSearchResults=n.getSearchResults.bind(n),n}return(0,b.default)(e,t),(0,g.default)(e,[{key:"onChangeSearch",value:function(t){this.setState({query:t.target.value},this.getSearchResults)}},{key:"getSearchResults",value:function(){function t(){return e.apply(this,arguments)}var e=(0,c.default)(l.default.mark(function t(){var e,n,a,r;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.state.query.length>0)){t.next=18;break}return t.prev=1,t.next=4,fetch(I+"?q="+this.state.query+"&type="+P);case 4:return e=t.sent,t.next=7,e.json();case 7:n=t.sent,a=this.filterTrackDuplicates(n.tracks.items.sort(this.popularitySort)),r=n.artists.items.sort(this.popularitySort),this.setState({tracks:a.slice(0,10)}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:t.next=19;break;case 18:this.setState({tracks:[]});case 19:case"end":return t.stop()}},t,this,[[1,13]])}));return t}()},{key:"popularitySort",value:function(t,e){return e.popularity-t.popularity}},{key:"filterTrackDuplicates",value:function(t){var e=[],n={},a=!0,r=!1,o=void 0;try{for(var i,u=(0,s.default)(t);!(a=(i=u.next()).done);a=!0){var l=i.value,d=l.artists[0].name;n[l.name+"-"+d]||(e.push(l),n[l.name+"-"+d]=!0)}}catch(t){r=!0,o=t}finally{try{!a&&u.return&&u.return()}finally{if(r)throw o}}return e}},{key:"clearSearch",value:function(){this.setState({query:"",tracks:[]})}},{key:"render",value:function(){return(0,o.default)("div",{className:"search-box"},void 0,(0,o.default)("div",{className:"search-bar"},void 0,(0,o.default)("div",{className:"placeholder"},void 0,R,(0,o.default)("input",{type:"text",placeholder:"Search for a song to request",value:this.state.query,onChange:this.onChangeSearch}),(0,o.default)("i",{className:"material-icons cancel",onClick:this.clearSearch.bind(this)},void 0,"cancel"))),(0,o.default)(A.default,{tracks:this.state.tracks,roomId:this.props.roomId,onSelectSong:this.clearSearch.bind(this)}))}}]),e}(w.default.Component);e.default=(0,S.default)(M.default)(O)}},[810]);